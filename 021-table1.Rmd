
### Table 1

```{r}
basil %>%
  group_by(studyid) %>%
  slice(1) %>%
  ungroup() %>%
  summarise(N_age = sum(!is.na(vdage)),
            N_female = sum(!is.na(vdfemale)),
            N_nonwhite = sum(!is.na(vdnonwhite)),
            N_married = sum(!is.na(vdmarried)),
            N_livesalone = sum(!is.na(vdlivesalone)),
            N_educ = sum(!is.na(vdeduc_r)),
            N_adlany = sum(!is.na(vdadlany)),
            N_dementia = sum(!is.na(vddementia)),
            N_surgical = sum(!is.na(vdsurgical)),
            mean_age = mean(vdage), sd_age = sd(vdage),
            per_female = 100*mean(vdfemale), 
            per_nonwhite = 100*mean(vdnonwhite),
            per_married = 100*mean(vdmarried, na.rm=T),
            per_livesalone = 100*mean(vdlivesalone, na.rm=T),
            mean_educ = mean(vdeduc_r, na.rm=T), sd_educ = sd(vdeduc_r, na.rm=T), 
            per_adlany = 100*mean(vdadlany, na.rm=T),
            per_dementia = 100*mean(vddementia, na.rm=T),
            per_surgical = 100*mean(vdsurgical, na.rm=T),
            n_female = sum(vdfemale==1, na.rm=T),
            n_nonwhite = sum(vdnonwhite==1, na.rm=T),
            n_married = sum(vdmarried==1, na.rm=T),
            n_livesalone = sum(vdlivesalone==1, na.rm=T),
            n_adlany = sum(vdadlany==1, na.rm=T),
            n_dementia = sum(vddementia==1, na.rm=T),
            n_surgical = sum(vdsurgical==1, na.rm=T)) %>%
  gather(Name, Value) %>%
  separate(Name, c("stat", "var"), "_") %>%
  spread(stat, Value) %>%
  select(var, N, mean, sd, n, per) %>%
  kable(digits=1, col.names=c("Variable", "N", "Mean", "SD", "Count", "Percent")) %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"), 
                full_width = F, position = "left")
  

 

```